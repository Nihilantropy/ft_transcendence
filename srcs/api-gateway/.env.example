# API Gateway Environment Configuration
# Copy this file to .env and adjust values as needed

# Server
PORT=8001
HOST=0.0.0.0
DEBUG=false
LOG_LEVEL=info

# JWT Configuration (RS256 Asymmetric)
# The API Gateway only needs the PUBLIC key for token verification.
# The private key stays with the auth-service for signing.
# Path should match the volume mount in docker-compose.yml
JWT_PUBLIC_KEY_PATH=/app/keys/jwt-public.pem
JWT_ALGORITHM=RS256

# Backend Services
# These should match the service names in docker-compose.yml
AUTH_SERVICE_URL=http://auth-service:3001
USER_SERVICE_URL=http://user-service:3002
AI_SERVICE_URL=http://ai-service:3003
RECOMMENDATION_SERVICE_URL=http://recommendation-service:3005

# Redis
# Use the Redis service from docker-compose or external Redis URL
REDIS_URL=redis://redis:6379/0

# Rate Limiting
# Adjust based on expected traffic and abuse prevention needs
RATE_LIMIT_PER_MINUTE=60

# Production Deployment Notes:
# 1. Generate RSA keys in auth-service: cd keys && bash generate-keys.sh
# 2. Share jwt-public.pem with API Gateway via Docker volume
# 3. NEVER share or expose jwt-private.pem (auth-service only)
# 4. Update backend service URLs if using external services
# 5. Configure Redis with password in production: redis://:password@redis:6379/0
# 6. Adjust RATE_LIMIT_PER_MINUTE based on load testing
# 7. Set up log aggregation (ELK, CloudWatch, etc.) for structured logs
# 8. Enable HTTPS/TLS in production environment
